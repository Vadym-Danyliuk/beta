{"version":3,"file":"index.js","sources":["../src/js/refs.js","../src/js/auto-hide-header.js","../src/js/header.js","../src/main.js"],"sourcesContent":["export const refs = {\n  headerContainerEl: document.querySelector('.header-container'),\n  heroContainerEl: document.querySelector('.hero-container'),\n  booksContainerEl: document.querySelector('.books-container'),\n  feedbacksContainerEl: document.querySelector('.feedbacks-container'),\n  eventsContainerEl: document.querySelector('.events-container'),\n  contactModalContainerEl: document.querySelector('.contact-modal-container'),\n  bookModalContainerEl: document.querySelector('.bm-container'),\n  footerContainerEl: document.querySelector('.footer-container'),\n  heroSection: document.querySelector('.hero'),\n\n  // ========== header\n\n  openBtn: document.querySelector('.mobile-open-menu-btn'),\n  closeBtn: document.querySelector('.mobile-menu-close-btn'),\n  mobileMenu: document.querySelector('.mobile-menu'),\n  mobileNavLinks: document.querySelectorAll('.mobile-page-menu-link'),\n  desktopNavLinks: document.querySelectorAll('.page-menu-link'),\n  header: document.querySelector('.header'),\n  body: document.body,\n\n  // ========== /header\n\n  // ========== books\n  galleryList: document.querySelector('.books-gallery-list'),\n  categoryList: document.querySelector('.books-nav-category '),\n  showMoreBtn: document.querySelector('.books-gallery-btn'),\n  loader: document.querySelector('.loader'),\n  counter: document.querySelector('.books-nav-counter'),\n  dropdownMenu: document.querySelector('.books-dropdown-menu'),\n  dropdownToggle: document.querySelector('.books-dropdown-toggle'),\n\n  // ========== /books\n};\n","import { refs } from './refs';\n\nlet headerHeight = refs.header.offsetHeight;\nlet lastScrollY = window.pageYOffset;\n\n/**\n * Оновлює висоту хедера при зміні розміру\n */\nfunction updateHeaderHeight() {\n  headerHeight = refs.header.offsetHeight;\n}\n\n/**\n * Додає padding до першої секції, щоб хедер її не перекривав\n */\nfunction applyHeroOffset() {\n  if (refs.heroSection) {\n    refs.heroSection.style.paddingTop = `${headerHeight}px`;\n  }\n}\n\n/**\n * Скролить до секції з урахуванням хедера\n */\nfunction scrollToSection(targetId) {\n  const targetSection = document.querySelector(targetId);\n  if (targetSection) {\n    const sectionTop = targetSection.offsetTop - headerHeight;\n    window.scrollTo({ top: sectionTop, behavior: 'smooth' });\n  }\n}\n\n/**\n * Обробник скролу — ховає/показує хедер\n */\nfunction handleScroll() {\n  const currentScrollY = window.pageYOffset;\n\n  if (currentScrollY > lastScrollY && currentScrollY > 100) {\n    refs.header.classList.add('hide-on-scroll');\n  } else {\n    refs.header.classList.remove('hide-on-scroll');\n  }\n\n  lastScrollY = currentScrollY;\n}\n\n/**\n * Ініціалізує логіку фіксованого хедера\n */\nexport function initAutoHideHeader() {\n  updateHeaderHeight();\n  applyHeroOffset();\n\n  window.addEventListener('resize', () => {\n    updateHeaderHeight();\n    applyHeroOffset();\n  });\n\n  window.addEventListener('scroll', handleScroll);\n\n  refs.desktopNavLinks.forEach(link => {\n    link.addEventListener('click', e => {\n      e.preventDefault();\n      const targetId = link.getAttribute('href');\n      scrollToSection(targetId);\n    });\n  });\n\n  refs.mobileNavLinks.forEach(link => {\n    link.addEventListener('click', e => {\n      const targetId = link.getAttribute('href');\n      scrollToSection(targetId);\n    });\n  });\n}\n","import { refs } from './refs';\nimport { initAutoHideHeader } from './auto-hide-header.js';\n\n// Ініціалізуємо логіку фіксованого хедера\n// initAutoHideHeader();\n\n// === Мобільне меню ===\n\nrefs.openBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.add('is-open');\n  refs.body.classList.add('menu-open');\n});\n\nrefs.closeBtn.addEventListener('click', () => {\n  refs.mobileMenu.classList.remove('is-open');\n  refs.body.classList.remove('menu-open');\n});\n\nrefs.mobileNavLinks.forEach(link => {\n  link.addEventListener('click', () => {\n    refs.mobileMenu.classList.remove('is-open');\n    refs.body.classList.remove('menu-open');\n  });\n});\n","import 'swiper/css/bundle';\n\nimport './js/header.js';\n\nconst dynamicImport = path =>\n  import(path).catch(err => {\n    console.warn(`Failed to load ${path}:`, err);\n  });\n\nconst initApp = async () => {\n  await Promise.allSettled([\n    dynamicImport('./js/hero.js'),\n    dynamicImport('./js/books.js'),\n  ]);\n\n  Promise.allSettled([\n    dynamicImport('./js/auto-hide-header.js'),\n    dynamicImport('./js/scroll-to-top.js'),\n  ]);\n\n  const loadInteractive = () =>\n    Promise.allSettled([\n      dynamicImport('./js/book-modal.js'),\n      dynamicImport('./js/contact-modal.js'),\n      dynamicImport('./js/feedbacks.js'),\n      dynamicImport('./js/footer.js'),\n      dynamicImport('./js/events.js'),\n    ]);\n\n  if ('requestIdleCallback' in window) {\n    requestIdleCallback(loadInteractive, { timeout: 2000 });\n  } else {\n    setTimeout(loadInteractive, 100);\n  }\n};\n\ndocument.readyState === 'loading'\n  ? document.addEventListener('DOMContentLoaded', initApp)\n  : initApp();\n"],"names":["refs","link","dynamicImport","path","err","initApp","loadInteractive"],"mappings":"0uBAAO,MAAMA,EAAO,CAClB,kBAAmB,SAAS,cAAc,mBAAmB,EAC7D,gBAAiB,SAAS,cAAc,iBAAiB,EACzD,iBAAkB,SAAS,cAAc,kBAAkB,EAC3D,qBAAsB,SAAS,cAAc,sBAAsB,EACnE,kBAAmB,SAAS,cAAc,mBAAmB,EAC7D,wBAAyB,SAAS,cAAc,0BAA0B,EAC1E,qBAAsB,SAAS,cAAc,eAAe,EAC5D,kBAAmB,SAAS,cAAc,mBAAmB,EAC7D,YAAa,SAAS,cAAc,OAAO,EAI3C,QAAS,SAAS,cAAc,uBAAuB,EACvD,SAAU,SAAS,cAAc,wBAAwB,EACzD,WAAY,SAAS,cAAc,cAAc,EACjD,eAAgB,SAAS,iBAAiB,wBAAwB,EAClE,gBAAiB,SAAS,iBAAiB,iBAAiB,EAC5D,OAAQ,SAAS,cAAc,SAAS,EACxC,KAAM,SAAS,KAKf,YAAa,SAAS,cAAc,qBAAqB,EACzD,aAAc,SAAS,cAAc,sBAAsB,EAC3D,YAAa,SAAS,cAAc,oBAAoB,EACxD,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,oBAAoB,EACpD,aAAc,SAAS,cAAc,sBAAsB,EAC3D,eAAgB,SAAS,cAAc,wBAAwB,CAGjE,EC/BmBA,EAAK,OAAO,aCM/BA,EAAK,QAAQ,iBAAiB,QAAS,IAAM,CAC3CA,EAAK,WAAW,UAAU,IAAI,SAAS,EACvCA,EAAK,KAAK,UAAU,IAAI,WAAW,CACrC,CAAC,EAEDA,EAAK,SAAS,iBAAiB,QAAS,IAAM,CAC5CA,EAAK,WAAW,UAAU,OAAO,SAAS,EAC1CA,EAAK,KAAK,UAAU,OAAO,WAAW,CACxC,CAAC,EAEDA,EAAK,eAAe,QAAQC,GAAQ,CAClCA,EAAK,iBAAiB,QAAS,IAAM,CACnCD,EAAK,WAAW,UAAU,OAAO,SAAS,EAC1CA,EAAK,KAAK,UAAU,OAAO,WAAW,CAC1C,CAAG,CACH,CAAC,ECnBD,MAAME,EAAgBC,GACpB,OAAOA,GAAM,MAAMC,GAAO,CACxB,QAAQ,KAAK,kBAAkBD,CAAI,IAAKC,CAAG,CAC/C,CAAG,EAEGC,EAAU,SAAY,CAC1B,MAAM,QAAQ,WAAW,CACvBH,EAAc,cAAc,EAC5BA,EAAc,eAAe,CACjC,CAAG,EAED,QAAQ,WAAW,CACjBA,EAAc,0BAA0B,EACxCA,EAAc,uBAAuB,CACzC,CAAG,EAED,MAAMI,EAAkB,IACtB,QAAQ,WAAW,CACjBJ,EAAc,oBAAoB,EAClCA,EAAc,uBAAuB,EACrCA,EAAc,mBAAmB,EACjCA,EAAc,gBAAgB,EAC9BA,EAAc,gBAAgB,CACpC,CAAK,EAEC,wBAAyB,OAC3B,oBAAoBI,EAAiB,CAAE,QAAS,GAAM,CAAA,EAEtD,WAAWA,EAAiB,GAAG,CAEnC,EAEA,SAAS,aAAe,UACpB,SAAS,iBAAiB,mBAAoBD,CAAO,EACrDA,EAAS"}